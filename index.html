<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>LARA AR PRO</title>
<style>

  #lara-avatar{
  position: fixed;
  bottom: 30px;
  right: 30px;
  z-index: 999;
}
  .avatar-circle{
  width: 90px;
  height: 90px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #00f2fe, #4facfe);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:26px;
  font-weight:bold;
  color:white;
  box-shadow:
    0 0 15px rgba(0,255,255,0.6),
    0 0 40px rgba(0,128,255,0.4),
    0 10px 30px rgba(0,0,0,0.4);
  cursor:pointer;
  transition:0.4s ease;
  animation: pulse 2s infinite;
}

.avatar-circle:hover{
  transform: scale(1.1);
}

<div id="lara-panel">
  <div class="lara-header">LARA AI ASÄ°STAN</div>
  <div class="lara-content" id="lara-text">
    Merhaba ðŸ‘‹ Ben Lara. KPI analizlerinizi yorumlayabilirim.
  </div>
  <button onclick="laraSpeak()">KonuÅŸ</button>
</div>
<div id="lara-avatar">
  <div class="avatar-circle">L</div>
</div>

body {
    margin:0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    color:white;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
}

.card {
    background: rgba(255,255,255,0.1);
    padding:40px;
    border-radius:20px;
    backdrop-filter: blur(10px);
    box-shadow: 0 0 20px rgba(0,0,0,0.3);
    text-align:center;
    width:400px;
}

.big {
    font-size:60px;
    font-weight:bold;
}

.red { color:#ff4d4d; }
.orange { color:#ffa500; }
.green { color:#00ff99; }
</style>
</head>
<body>
<button onclick="konus()" style="
position:fixed;
bottom:30px;
right:30px;
padding:15px 25px;
background:#00c896;
color:white;
border:none;
border-radius:10px;
font-size:16px;
cursor:pointer;">
LARA KonuÅŸ
</button>

<script>
function konus(){
    let oran = document.getElementById("percent").innerText;
    let msg = new SpeechSynthesisUtterance(
        "BugÃ¼nkÃ¼ hedef gerÃ§ekleÅŸme oranÄ± " + oran + ". SatÄ±ÅŸ temposunu artÄ±rmalÄ±sÄ±n."
    );
    msg.lang = "tr-TR";
    speechSynthesis.speak(msg);
}
</script>

<div class="card">
    <h2>LARA AR PRO KPI</h2>
    <div id="percent" class="big">0%</div>
    <p>AylÄ±k Hedef: 700.000 TL</p>
    <p id="ciro">Ciro: 0 TL</p>
</div>

<script>
let hedef = 700000;

let csvUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTVbT6LOGyqCLieriT6raGk1ZEf5SrlvQcHaPi6bKzIk--XdsdgypBFkgRdYo3nJjPEroYFE5_oy72w/pub?output=csv";

fetch(csvUrl)
  .then(response => response.text())
  .then(data => {

    let rows = data.trim().split("\n");

    // Son dolu satÄ±rÄ± al
    let lastRow = rows[rows.length - 1].split(",");

    let ciro = parseFloat(lastRow[1]);

    if (isNaN(ciro)) {
        ciro = 0;
    }

    let oran = Math.round((ciro / hedef) * 100);

    let percentEl = document.getElementById("percent");
    let ciroEl = document.getElementById("ciro");

    percentEl.innerText = oran + "%";
    ciroEl.innerText = "Ciro: " + ciro.toLocaleString("tr-TR") + " TL";

    percentEl.classList.remove("red","orange","green");

    if(oran < 50){
        percentEl.classList.add("red");
    } else if(oran < 80){
        percentEl.classList.add("orange");
    } else {
        percentEl.classList.add("green");
    }

});
</script>



</body>
</html>
